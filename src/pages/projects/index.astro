---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Container from '@/components/Container.astro';
import ProjectCard from '@/components/ProjectCard.astro';
import TimelineCalendar from '@/components/timeline/TimelineCalendar.astro';
import TimelineTooltip from '@/components/timeline/TimelineTooltip.astro';
import { getAllProjects } from '@/lib/projects';

const projects = await getAllProjects();
---

<BaseLayout
  title="Projects"
  description="Things I've built with my hands and with code"
>
  <section
    class="py-12 sm:py-16 md:py-20 bg-gradient-to-b from-stone-100/80 to-stone-50"
  >
    <Container>
      <div class="mb-12">
        <h1
          class="text-3xl sm:text-4xl font-bold text-stone-800 tracking-tight"
        >
          Projects
        </h1>
        <p class="mt-4 text-lg text-stone-600">
          Things I've built, both with my hands and with code.
        </p>
      </div>

      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        {
          projects.map((project) => (
            <ProjectCard project={project} variant="card" />
          ))
        }
      </div>
    </Container>
  </section>

  <!-- Timeline -->
  <section class="py-8 sm:py-12 bg-stone-50">
    <Container>
      <h2 class="text-lg font-semibold text-stone-700 mb-4">Timeline</h2>
      <TimelineCalendar />
    </Container>
  </section>

  <TimelineTooltip />
  <script src="@/scripts/timeline.ts"></script>
</BaseLayout>
