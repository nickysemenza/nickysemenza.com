---
import HeaderLink from '@/components/HeaderLink.astro';
import { SITE_TITLE, SOCIAL_LINKS } from '@/consts';
import { Icon } from 'astro-icon/components';
---

<header
  class="bg-white/95 backdrop-blur-sm border-b border-stone-200/60 sticky top-0 z-50"
>
  <nav
    class="flex justify-between items-center max-w-screen-lg mx-auto px-4 sm:px-6 lg:px-8 py-3"
  >
    <!-- Logo -->
    <h2 class="font-bold text-lg sm:text-xl text-stone-800">
      <a
        href="/"
        class="hover:text-[var(--color-accent)] transition-colors duration-200"
        >{SITE_TITLE}</a
      >
    </h2>

    <!-- Desktop Nav -->
    <div class="hidden sm:flex items-center gap-1">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/projects">Projects</HeaderLink>
      <HeaderLink href="/about">About</HeaderLink>
    </div>

    <!-- Social Links (desktop) -->
    <div class="hidden sm:flex items-center gap-2">
      {
        SOCIAL_LINKS.map((link) => (
          <a
            href={link.url}
            target="_blank"
            rel="noopener noreferrer"
            class="p-2 text-stone-500 hover:text-[var(--color-accent)] hover:bg-stone-100 rounded-lg transition-all duration-200"
          >
            <span class="sr-only">{link.name}</span>
            <Icon name={link.icon} class="w-5 h-5" />
          </a>
        ))
      }
    </div>

    <!-- Mobile Menu Button -->
    <button
      type="button"
      id="mobile-menu-btn"
      class="sm:hidden p-2 -mr-2 text-stone-600 hover:text-stone-900 hover:bg-stone-100 rounded-lg transition-colors"
      aria-label="Toggle menu"
      aria-expanded="false"
    >
      <Icon name="tabler:menu-2" class="w-6 h-6 menu-icon" />
      <Icon name="tabler:x" class="w-6 h-6 close-icon hidden" />
    </button>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="sm:hidden hidden border-t border-stone-100">
    <div class="px-4 py-3 space-y-1 bg-stone-50/80">
      <a
        href="/"
        class="block px-3 py-2 rounded-lg text-stone-700 hover:bg-stone-100 hover:text-stone-900 font-medium transition-colors"
        >Home</a
      >
      <a
        href="/projects"
        class="block px-3 py-2 rounded-lg text-stone-700 hover:bg-stone-100 hover:text-stone-900 font-medium transition-colors"
        >Projects</a
      >
      <a
        href="/about"
        class="block px-3 py-2 rounded-lg text-stone-700 hover:bg-stone-100 hover:text-stone-900 font-medium transition-colors"
        >About</a
      >
      <div class="flex items-center gap-2 pt-2 mt-2 border-t border-stone-200">
        {
          SOCIAL_LINKS.map((link) => (
            <a
              href={link.url}
              target="_blank"
              rel="noopener noreferrer"
              class="p-2 text-stone-500 hover:text-[var(--color-accent)] hover:bg-stone-100 rounded-lg transition-colors"
            >
              <span class="sr-only">{link.name}</span>
              <Icon name={link.icon} class="w-5 h-5" />
            </a>
          ))
        }
      </div>
    </div>
  </div>
</header>

<script src="@/scripts/mobile-menu.ts"></script>
